
D3 是一个 JavaScript 库，可帮助您构建自定义、交互式且美观的数据
可视化。而不是提供图表类型库（这就是库的作用）
就像 Highcharts16 和 Chart.js17 一样）它提供了用于创建自定义（和
标准）图表。
D3主要包括：
• 将数据数组连接（或绑定）到 HTML 或 SVG 元素的机制
• 大量有助于构建数据可视化的模块
本节概述了 D3 连接和一些 D3 模块。也不用担心
如果您没有遵循所有内容，那么会很重要，因为我们稍后将深入介绍这些材料。

## 使用 D3 连接数据

D3 的基石之一是它的数据连接。数据连接创建对应关系位于数据数组和一组 HTML 或 SVG 元素之间。具体有一个数据加入意味着：
• 每个数组元素都有一个对应的 HTML/SVG 元素
• 每个 HTML/SVG 元素都可以根据以下内容进行定位、调整大小和样式：其对应数组元素的值
下面是一个将数字数组连接到 SVG 圆圈的示例：


每个数组元素对应一个圆。此外，每个圆圈的大小根据到其对应的数组值。
添加新的数组元素会导致创建一个新的圆：


删除数组元素会导致相应的圆被删除：

更改数组值会导致圆圈相应更改大小

您可以在 Codepen 上查看此示例的交互式版本：
https://codepen.io/createwithdata/pen/NWxjKVo18
数据连接确保圆圈“镜像”数组。这是创建的基础使用 D3 进行数据可视化。实际上，数组元素由形状表示（无论是圆、直线、矩形等）。形状的大小、位置和样式可以根据到相应的数据。
我们将在本书后面详细介绍 D3 连接。现在只要记住 D3 之一它的基石是将数组连接HTML/SVG 元素的能力。这导致HTML/SVG 元素镜像数组元素。


## D3模块

D3 拥有大量模块，可帮助您构建交互式数据可视化。让我们看看一些更常用的。

### 数据请求

D3 的 fetch 模块可以直接加载逗号分隔值 (CSV) 和 JSON 文件。逗号分隔值 (CSV) 文件是表示表格中数据的文本文件格式。例如：

JSON 文件是格式与 JavaScript 对象和数组密切相关的文本文件。为了例子：


您可以使用 D3 函数 d3.csv 从给定 URL 请求 CSV 文件。当 CSV文件到达后，D3 将其转换为对象数组。

例如，假设有一个 CSV 文件位于 data/cities.csv：

```js
d3.csv('data/cities.csv')
```

### 标度函数

我们已经看到 D3 中的一个常见模式是数据连接。例如，给定数据：

```js
var myData = [ 1, 4, 3 ];
```

我们可以为每个元素创建一个矩形并设置矩形的长度与值成正比。数据很少会与屏幕坐标完全对应所以我们通常需要应用一些缩放
在本章中，挑战是编写 cat 程序的克隆，之所以这样命名是因为它可以将多个文件连接成一个文件。也就是说，给定文件 a、b 和 c，您可以执行 cat a b c > all 以流式传输这三个文件中的所有行，并将它们重定向到一个名为 all 的文件中。该程序将接受一个选项，在每一行前加上行号。
在本章中，您将学习：
* 如何将代码组织到一个库和一个二进制包中
* 如何使用测试优先开发
* 公有和私有变量和函数的区别
* 如何测试文件是否存在
* 如何为不存在的文件创建随机字符串
* 如何读取常规文件或 STDIN（发音为 standard in）
* 如何使用eprintln！打印到 STDERR 和format!格式化一个字符串
* 如何编写在 STDIN 上提供输入的测试
* 如何以及为什么创建结构
* 如何定义互斥参数
* 如何使用迭代器的枚举方法
* 有关如何以及为何使用 Box 的更多信息

# cat 如何工作

我将从展示 cat 的工作原理开始，以便您了解挑战的预期内容。BSD 版的 cat 没有响应 --help，所以我必须使用 man cat 来阅读手册页。对于这样一个有限的程序，它有惊人数量的选项：


GNU 版本确实响应 --help:

对于挑战程序，我将只执行选项 -b|--number-nonblank 和 -n|--number。我还将展示如何在给定文件名参数“-”时读取常规文件和 STDIN。我已经将四个用于测试的文件放03_catr/tests/inputs 目录中：





